<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <title>Nav</title>
    <link rel="stylesheet" href="../css/nav.css">
</head>
<body>
<div class="wrap">
    <div class="row row-1">
        <kbd class="button">1</kbd>
        <kbd class="button">2</kbd>
        <kbd class="button">3</kbd>
        <kbd class="button">4</kbd>
        <kbd class="button">5</kbd>
        <kbd class="button">6</kbd>
        <kbd class="button">7</kbd>
        <kbd class="button">8</kbd>
        <kbd class="button">9</kbd>
        <kbd class="button">0</kbd>
    </div>
    <div class="row row-2">
        <kbd class="button">Q</kbd>
        <kbd class="button">W</kbd>
        <kbd class="button">E</kbd>
        <kbd class="button">R</kbd>
        <kbd class="button">T</kbd>
        <kbd class="button">Y</kbd>
        <kbd class="button">U</kbd>
        <kbd class="button">I</kbd>
        <kbd class="button">O</kbd>
        <kbd class="button">P</kbd>
    </div>
    <div class="row row-3">
        <kbd class="button">A</kbd>
        <kbd class="button">S</kbd>
        <kbd class="button">D</kbd>
        <kbd class="button">F</kbd>
        <kbd class="button">G</kbd>
        <kbd class="button">H</kbd>
        <kbd class="button">J</kbd>
        <kbd class="button">K</kbd>
        <kbd class="button">L</kbd>
    </div>
    <div class="row row-4">
        <kbd class="button">Z</kbd>
        <kbd class="button">X</kbd>
        <kbd class="button">C</kbd>
        <kbd class="button">V</kbd>
        <kbd class="button">B</kbd>
        <kbd class="button">N</kbd>
        <kbd class="button">M</kbd>
    </div>
</div>


<script>
	var defData = {
		'1': '//www.163.com',
		'2': '//www.263.com',
		'3': '//www.baidu.com',
		'4': '//www.4399.com',
		'5': '//www.5173.com',
		'6': '',
		'7': '',
		'8': '',
		'9': '',
		'0': '',
		'Q': '//www.qq.com',
		'W': '//www.weibo.com',
		'E': '//www.ed2000.com',
		'R': '//www.ruanyifeng.com',
		'T': '//www.taobao.com',
		'Y': '//www.youku.com',
		'U': '//www.uuu9.com',
		'I': '//www.iqiyi.com',
		'O': '//www.outlook.com',
		'P': '//www.paipai.com',
		'A': '//www.amazon.cn',
		'S': '//www.sohu.com',
		'D': '//www.douban.com',
		'F': '//www.funshion.com',
		'G': '//www.ganji.com',
		'H': '//www.hexun.com',
		'J': '//www.jd.com',
		'K': '//www.kugou.com',
		'L': '//www.letv.com',
		'Z': '//www.zhaopin.com',
		'X': '//www.xiami.com',
		'C': '//www.china.com',
		'V': '//www.verycd.com',
		'B': '//www.bilibili.com',
		'N': '//www.nba.com',
		'M': '//www.mi.com'
	};


	function creElem(tagName) {
		return document.createElement(tagName);
	}


	var btn = document.getElementsByClassName('button');
	for (var i = 0; i < btn.length; i++) {
		var ico = creElem('img'),
			menu = creElem('div'),
			edit = creElem('span'),
			del = creElem('span'),
			text = btn[i].firstChild.textContent;

		ico.className = 'favicon';
		ico.src = 'http://' + defData[text] + '/favicon.ico';
		ico.addEventListener('error', function (e) {
			e.target.src = '../img/nav_error.png'
		});
		menu.className = 'menu';
		edit.className = 'item';
		edit.addEventListener('click',function (e) {
			e.stopPropagation();
			var url = prompt('请输入自定义网址：');
			console.log(url);
		});
		del.className = 'item';

		edit.innerText = 'E';
		del.innerText = 'D';

		menu.appendChild(edit);
		menu.appendChild(del);
		btn[i].appendChild(ico);
		btn[i].appendChild(menu);

		btn[i].addEventListener('click', function (e) {
			var obj = e.target,
				txt = obj.firstChild.textContent;
			if (e.target.className !== 'item') {
				open(defData[txt], '_blank');
			} else if (txt === 'E') {
				console.log();
			} else {
				console.log('del')
			}
		})
	}
</script>
</body>
</html>